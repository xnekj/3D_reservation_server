{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block title %}Add New Printer{% endblock %}

{% block content %}
<br>
<h2>Add a New Printer</h2>
<form method="post" id="printer-form">
    {% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-success">Add Printer</button>
    <button type="button" class="btn btn-outline-secondary" onclick="location.reload()">Refresh Ports</button>
</form>

<br>
<div class="mt-4">
{% if messages %}
  {% for message in messages %}
    {% if 'connection_error' in message.tags %}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endif %}
  {% endfor %}
{% endif %}
</div>

{% endblock %}